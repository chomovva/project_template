!function(t){function e(t,e){if(!t)throw new Error("Missing selector. Refer to Usage documentation: https://github.com/peduarte/wallop#javascript");for(var i=0;i<s.length;i++)if(s[i]===t)throw new Error("An instance of Wallop with this selector already exists.");if(this.options={buttonPreviousClass:"Wallop-buttonPrevious",buttonNextClass:"Wallop-buttonNext",itemClass:"Wallop-item",currentItemClass:"Wallop-item--current",showPreviousClass:"Wallop-item--showPrevious",showNextClass:"Wallop-item--showNext",hidePreviousClass:"Wallop-item--hidePrevious",hideNextClass:"Wallop-item--hideNext",carousel:!0},t.length>0)throw new Error("Selector cannot be an array, Refer to Usage documentation: https://github.com/peduarte/wallop#javascript");this.$selector=t,this.options=function(t,e){var s,i={};for(s in t)i[s]=t[s];for(s in e)i[s]=e[s];return i}(this.options,e),this.event=null,this.allItemsArray=Array.prototype.slice.call(this.$selector.querySelectorAll(" ."+this.options.itemClass)),this.currentItemIndex=this.allItemsArray.indexOf(this.$selector.querySelector(" ."+this.options.currentItemClass)),this.lastItemIndex=this.allItemsArray.length-1,this.buttonPrevious=this.$selector.querySelector(" ."+this.options.buttonPreviousClass),this.buttonNext=this.$selector.querySelector(" ."+this.options.buttonNextClass),this.bindEvents(),this.createCustomEvent(),-1===this.currentItemIndex&&(this.currentItemIndex=0,n(this.allItemsArray[this.currentItemIndex],this.options.currentItemClass)),this.updateButtonStates();var o=this;setTimeout(function(){o.event.detail.currentItemIndex=o.currentItemIndex,o.$selector.dispatchEvent(o.event)},0)}var s=[],i=e.prototype;function o(t){if(t)return document.querySelectorAll("."+t)}function n(t,e){t&&(t.className=(t.className+" "+e).trim())}function r(t,e){t&&(t.className=t.className.replace(e,"").trim())}function l(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var s=document.createEvent("CustomEvent");return s.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),s}i.updateButtonStates=function(){!this.buttonPrevious&&!this.buttonNext||this.options.carousel||(this.currentItemIndex===this.lastItemIndex?this.buttonNext.setAttribute("disabled","disabled"):0===this.currentItemIndex&&this.buttonPrevious.setAttribute("disabled","disabled"))},i.removeAllHelperSettings=function(){r(this.allItemsArray[this.currentItemIndex],this.options.currentItemClass),r(o(this.options.hidePreviousClass)[0],this.options.hidePreviousClass),r(o(this.options.hideNextClass)[0],this.options.hideNextClass),r(o(this.options.showPreviousClass)[0],this.options.showPreviousClass),r(o(this.options.showNextClass)[0],this.options.showNextClass),(this.buttonPrevious||this.buttonNext)&&(this.buttonPrevious.removeAttribute("disabled"),this.buttonNext.removeAttribute("disabled"))},i.goTo=function(t){if(t!==this.currentItemIndex&&!((t=(t=-1===t&&this.options.carousel?this.lastItemIndex:t)===this.lastItemIndex+1&&this.options.carousel?0:t)<0||t>this.lastItemIndex)){this.removeAllHelperSettings();var e=(t>this.currentItemIndex||0===t&&this.currentItemIndex===this.lastItemIndex)&&!(t===this.lastItemIndex&&0===this.currentItemIndex);n(this.allItemsArray[this.currentItemIndex],e?this.options.hidePreviousClass:this.options.hideNextClass),n(this.allItemsArray[t],this.options.currentItemClass+" "+(e?this.options.showNextClass:this.options.showPreviousClass)),this.currentItemIndex=t,this.updateButtonStates(),this.event.detail.currentItemIndex=this.currentItemIndex,this.$selector.dispatchEvent(this.event)}},i.previous=function(){this.goTo(this.currentItemIndex-1)},i.next=function(){this.goTo(this.currentItemIndex+1)},i.bindEvents=function(){s.push(this.$selector);var t=this;this.buttonPrevious&&this.buttonPrevious.addEventListener("click",function(e){e.preventDefault(),t.previous()}),this.buttonNext&&this.buttonNext.addEventListener("click",function(e){e.preventDefault(),t.next()})},i.on=function(t,e){this.$selector.addEventListener(t,e,!1)},i.off=function(t,e){this.$selector.removeEventListener(t,e,!1)},i.createCustomEvent=function(){this.event=new l("change",{detail:{wallopEl:this.$selector,currentItemIndex:Number(this.currentItemIndex)},bubbles:!0,cancelable:!0})},l.prototype=window.CustomEvent?window.CustomEvent.prototype:{},window.CustomEvent=l,"function"==typeof define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:t.Wallop=e}(this);